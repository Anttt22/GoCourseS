FROM golang:onbuild
# в первой строке указываемна основании какого образа хотим собрать наше изображение
# Он является дистрибутивом линукса с установленным поверх инструмнтарием Го

COPY ./ ./
# копируем все файлы из локальной дректориив файловую систему образов

RUN go build -o main .
# инструкция ран которая скомпилирует наше приложение в бинарный файл с именем мейн
CMD ["./main"]
# инструкция cmd. после сборки будет запущенна эта команда которая запустит наше скомпилированное приложение

# замем в терминале запускаем команду docker build -t go-app
# с флагом -t передав имя нашего изображения после флага -t и указав
# в конце путь к нашему докер файлу. так как файл находиться в той же директории где мы выполняем команду просто ставим .
